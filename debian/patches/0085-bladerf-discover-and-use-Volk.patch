From e9dde9afd754c6e3bcf1a1444c04064051f04ecd Mon Sep 17 00:00:00 2001
From: Dimitri Stolnikov <horiz0n@gmx.net>
Date: Mon, 27 Feb 2017 23:23:54 +0100
Subject: [PATCH 85/96] bladerf: discover and use Volk

---
 CMakeLists.txt             | 1 +
 lib/bladerf/CMakeLists.txt | 3 ++-
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 32e7ff5..b865d93 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -169,6 +169,7 @@ find_package(LibSDRplay)
 endif(ENABLE_NONFREE)
 find_package(LibHackRF)
 find_package(LibAIRSPY)
+find_package(Volk)
 find_package(LibbladeRF)
 find_package(SoapySDR NO_MODULE)
 find_package(Doxygen)
diff --git a/lib/bladerf/CMakeLists.txt b/lib/bladerf/CMakeLists.txt
index 922dbe1..c253a22 100644
--- a/lib/bladerf/CMakeLists.txt
+++ b/lib/bladerf/CMakeLists.txt
@@ -24,6 +24,7 @@
 include_directories(
     ${CMAKE_CURRENT_SOURCE_DIR}
     ${LIBBLADERF_INCLUDE_DIRS}
+    ${VOLK_INCLUDE_DIRS}
 )
 
 set(bladerf_srcs
@@ -36,4 +37,4 @@ set(bladerf_srcs
 # Append gnuradio-osmosdr library sources
 ########################################################################
 list(APPEND gr_osmosdr_srcs ${bladerf_srcs})
-list(APPEND gr_osmosdr_libs ${LIBBLADERF_LIBRARIES})
+list(APPEND gr_osmosdr_libs ${LIBBLADERF_LIBRARIES} ${VOLK_LIBRARIES})
-- 
2.11.0

